import{d as I,u as R,o as $,A as E,w as M,c as l,a as e,n as g,b as c,e as r,I as d,t as x,F as S,r as j,f as y,h as _,i as P,x as V,j as i,q,k as z,v as F,_ as K}from"./index-CWeiFIn6.js";import{P as N}from"./PostCard-Ce3anBp3.js";const D={class:"relative h-[45vh] min-h-[320px] flex items-center justify-center overflow-hidden"},T={class:"w-20 h-20 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-[#7CB342] to-[#8BC34A] p-[2px] shadow-lg shadow-[#7CB342]/30"},O={class:"w-full h-full rounded-2xl bg-black/30 backdrop-blur flex items-center justify-center"},U={class:"mt-3 text-white/80 text-lg"},Z={class:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10"},G={key:0,class:"card p-16 text-center"},H={key:1},J={class:"grid gap-5 md:grid-cols-2 lg:grid-cols-3 mb-8"},Q=["onClick"],W={class:"flex items-center space-x-4"},X={class:"flex-1"},Y={class:"font-bold text-lg text-gray-800 dark:text-white group-hover:text-[#7CB342] transition-colors"},ee={class:"text-sm text-gray-500 dark:text-gray-400 flex items-center mt-1"},te={key:0},se={class:"text-xl font-bold text-gray-800 dark:text-white flex items-center"},oe={class:"text-base font-normal text-gray-400 ml-2"},ae={class:"space-y-5"},ne={class:"w-24 h-24 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 flex items-center justify-center"},re={class:"text-sm text-gray-400 dark:text-gray-500"},ie=I({__name:"Categories",setup(le){const L=F(),b=V(),m=R(),n=_(null),f=_(new Set),w=_(new Map);let a=null;const h=(s,t)=>{s&&(w.value.set(t,s),s.__sectionKey=t,a==null||a.observe(s))},p=s=>f.value.has(s);$(()=>{a=new IntersectionObserver(s=>{s.forEach(t=>{const o=t.target.__sectionKey;t.isIntersecting&&!f.value.has(o)&&(f.value.add(o),f.value=new Set(f.value),a==null||a.unobserve(t.target))})},{threshold:.15,rootMargin:"0px 0px -80px 0px"}),w.value.forEach((s,t)=>{s.__sectionKey=t,a==null||a.observe(s)})}),E(()=>{a==null||a.disconnect()}),M(()=>L.query.category,s=>{n.value=s},{immediate:!0});const C=P(()=>n.value?m.getPostsByCategory(n.value):[]);function k(s){n.value===s?(n.value=null,b.push("/categories")):(n.value=s,b.push({path:"/categories",query:{category:s}}))}const A={Tech:{icon:"lucide:code-2",gradient:"from-blue-500 to-cyan-500"},Life:{icon:"lucide:heart",gradient:"from-pink-500 to-rose-500"},Essays:{icon:"lucide:pen-tool",gradient:"from-purple-500 to-violet-500"},Learning:{icon:"lucide:graduation-cap",gradient:"from-green-500 to-emerald-500"}};function v(s){return A[s]||{icon:"lucide:folder",gradient:"from-[#7CB342] to-[#8BC34A]"}}return(s,t)=>(i(),l("div",null,[e("header",D,[t[2]||(t[2]=e("div",{class:"absolute inset-0 bg-black/30"},null,-1)),e("div",{ref:o=>h(o,"banner"),class:g(["relative text-center text-white z-10 banner-content",{"animate-in":p("banner")}])},[e("div",T,[e("div",O,[c(r(d),{icon:"lucide:folder-open",class:"w-10 h-10 drop-shadow-lg"})])]),t[1]||(t[1]=e("h1",{class:"text-4xl md:text-5xl font-bold drop-shadow-lg"},"Categories",-1)),e("p",U,x(r(m).allCategories.length)+" categories in total",1)],2),t[3]||(t[3]=e("div",{class:"wave-divider"},[e("svg",{viewBox:"0 0 1440 100",preserveAspectRatio:"none"},[e("path",{d:"M0,50 C150,100 350,0 600,50 C850,100 1050,0 1200,50 C1350,100 1440,50 1440,50 L1440,100 L0,100 Z",fill:"rgba(255,255,255,0.1)"})])],-1))]),e("div",Z,[r(m).isLoading?(i(),l("div",G,[...t[4]||(t[4]=[e("div",{class:"inline-flex flex-col items-center"},[e("div",{class:"w-16 h-16 rounded-2xl bg-gradient-to-br from-[#7CB342]/20 to-[#8BC34A]/20 flex items-center justify-center mb-4"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-4 border-[#7CB342] border-t-transparent"})]),e("p",{class:"text-gray-500"},"Loading...")],-1)])])):(i(),l("div",H,[e("div",J,[(i(!0),l(S,null,j(r(m).allCategories,(o,u)=>(i(),l("button",{key:o.name,ref_for:!0,ref:B=>h(B,`category-${u}`),onClick:B=>k(o.name),class:g(["card p-6 text-left transition-all duration-300 hover:shadow-xl group category-card",[n.value===o.name?"ring-2 ring-[#7CB342] shadow-xl":"",{"animate-in":p(`category-${u}`)}]]),style:q({animationDelay:`${u*100}ms`})},[e("div",W,[e("div",{class:g(["w-16 h-16 rounded-2xl flex items-center justify-center text-white shadow-lg bg-gradient-to-br transition-all duration-300 group-hover:scale-110 group-hover:shadow-xl",v(o.name).gradient])},[c(r(d),{icon:v(o.name).icon,class:"w-8 h-8"},null,8,["icon"])],2),e("div",X,[e("h3",Y,x(o.name),1),e("p",ee,[c(r(d),{icon:"lucide:file-text",class:"w-3.5 h-3.5 mr-1.5"}),y(" "+x(o.count)+" posts ",1)])]),c(r(d),{icon:"lucide:chevron-right",class:"w-5 h-5 text-gray-400 dark:text-gray-500 group-hover:text-[#7CB342] group-hover:translate-x-1 transition-all"})])],14,Q))),128))]),n.value?(i(),l("div",te,[e("div",{ref:o=>h(o,"selection-header"),class:g(["flex items-center justify-between mb-6 selection-header",{"animate-in":p("selection-header")}])},[e("h2",se,[e("div",{class:g(["w-8 h-8 rounded-lg flex items-center justify-center mr-2 bg-gradient-to-br",v(n.value).gradient])},[c(r(d),{icon:v(n.value).icon,class:"w-4 h-4 text-white"},null,8,["icon"])],2),y(" "+x(n.value)+" ",1),e("span",oe,"("+x(C.value.length)+" posts)",1)]),e("button",{onClick:t[0]||(t[0]=o=>k(n.value)),class:"px-3 py-1.5 text-sm text-gray-400 hover:text-white hover:bg-red-500 rounded-lg transition-all flex items-center"},[c(r(d),{icon:"lucide:x",class:"w-4 h-4 mr-1"}),t[5]||(t[5]=y(" Clear Filter ",-1))])],2),e("div",ae,[(i(!0),l(S,null,j(C.value,(o,u)=>(i(),z(N,{key:o.slug,post:o,layout:u%2===0?"left":"right",index:u},null,8,["post","layout","index"]))),128))])])):(i(),l("div",{key:1,ref:o=>h(o,"empty-state"),class:g(["card p-16 text-center empty-state",{"animate-in":p("empty-state")}])},[e("div",ne,[c(r(d),{icon:"lucide:pointer",class:"w-12 h-12 text-gray-400 dark:text-gray-500"})]),t[6]||(t[6]=e("p",{class:"text-gray-500 dark:text-gray-400 mb-2"},"Click a category above to view related posts",-1)),e("p",re,x(r(m).allCategories.length)+" categories waiting to be explored",1)],2))]))])]))}}),ue=K(ie,[["__scopeId","data-v-f42bfdef"]]);export{ue as default};
