import{d as I,u as L,o as M,A as R,w as z,c as i,a as e,n as p,b as u,e as r,I as m,t as g,F as B,r as T,f as v,h as y,i as P,x as V,j as l,q,k as E,v as F,_ as K}from"./index-CWeiFIn6.js";import{P as N}from"./PostCard-Ce3anBp3.js";const $={class:"relative h-[45vh] min-h-[320px] flex items-center justify-center overflow-hidden"},D={class:"w-20 h-20 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-[#7CB342] to-[#8BC34A] p-[2px] shadow-lg shadow-[#7CB342]/30"},O={class:"w-full h-full rounded-2xl bg-black/30 backdrop-blur flex items-center justify-center"},U={class:"mt-3 text-white/80 text-lg"},Z={class:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10"},G={key:0,class:"card p-16 text-center"},H={key:1},J={class:"flex items-center justify-center mb-6"},Q={class:"w-10 h-10 rounded-xl bg-gradient-to-br from-[#7CB342] to-[#8BC34A] flex items-center justify-center mr-3"},W={class:"flex flex-wrap items-center justify-center gap-3"},X=["onClick"],Y={class:"text-xs ml-1 opacity-70"},ee={key:0},te={class:"text-xl font-bold text-gray-800 dark:text-white flex items-center"},se={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-[#7CB342] to-[#8BC34A] flex items-center justify-center mr-2"},ae={class:"text-base font-normal text-gray-400 ml-2"},oe={class:"space-y-5"},ne={class:"w-24 h-24 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 flex items-center justify-center"},re={class:"text-sm text-gray-400 dark:text-gray-500"},le=I({__name:"Tags",setup(ie){const j=F(),b=V(),c=L(),n=y(null),x=y(new Set),w=y(new Map);let o=null;const h=(a,t)=>{a&&(w.value.set(t,a),a.__sectionKey=t,o==null||o.observe(a))},f=a=>x.value.has(a);M(()=>{o=new IntersectionObserver(a=>{a.forEach(t=>{const s=t.target.__sectionKey;t.isIntersecting&&!x.value.has(s)&&(x.value.add(s),x.value=new Set(x.value),o==null||o.unobserve(t.target))})},{threshold:.15,rootMargin:"0px 0px -80px 0px"}),w.value.forEach((a,t)=>{a.__sectionKey=t,o==null||o.observe(a)})}),R(()=>{o==null||o.disconnect()}),z(()=>j.query.tag,a=>{n.value=a},{immediate:!0});const _=P(()=>n.value?c.getPostsByTag(n.value):[]);function k(a){n.value===a?(n.value=null,b.push("/tags")):(n.value=a,b.push({path:"/tags",query:{tag:a}}))}const C=["from-red-400 to-pink-500","from-orange-400 to-red-500","from-amber-400 to-orange-500","from-yellow-400 to-amber-500","from-lime-400 to-green-500","from-green-400 to-emerald-500","from-emerald-400 to-teal-500","from-teal-400 to-cyan-500","from-cyan-400 to-blue-500","from-blue-400 to-indigo-500","from-indigo-400 to-purple-500","from-purple-400 to-pink-500"];function S(a){return C[a%C.length]}function A(a){const t=Math.max(...c.allTags.map(d=>d.count)),s=a/t;return s>.7?"text-lg px-4 py-2":s>.4?"text-base px-3 py-1.5":"text-sm px-3 py-1"}return(a,t)=>(l(),i("div",null,[e("header",$,[t[2]||(t[2]=e("div",{class:"absolute inset-0 bg-black/30"},null,-1)),e("div",{ref:s=>h(s,"banner"),class:p(["relative text-center text-white z-10 banner-content",{"animate-in":f("banner")}])},[e("div",D,[e("div",O,[u(r(m),{icon:"lucide:tags",class:"w-10 h-10 drop-shadow-lg"})])]),t[1]||(t[1]=e("h1",{class:"text-4xl md:text-5xl font-bold drop-shadow-lg"},"Tags",-1)),e("p",U,g(r(c).allTags.length)+" tags in total",1)],2),t[3]||(t[3]=e("div",{class:"wave-divider"},[e("svg",{viewBox:"0 0 1440 100",preserveAspectRatio:"none"},[e("path",{d:"M0,50 C150,100 350,0 600,50 C850,100 1050,0 1200,50 C1350,100 1440,50 1440,50 L1440,100 L0,100 Z",fill:"rgba(255,255,255,0.1)"})])],-1))]),e("div",Z,[r(c).isLoading?(l(),i("div",G,[...t[4]||(t[4]=[e("div",{class:"inline-flex flex-col items-center"},[e("div",{class:"w-16 h-16 rounded-2xl bg-gradient-to-br from-[#7CB342]/20 to-[#8BC34A]/20 flex items-center justify-center mb-4"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-4 border-[#7CB342] border-t-transparent"})]),e("p",{class:"text-gray-500"},"Loading...")],-1)])])):(l(),i("div",H,[e("div",{ref:s=>h(s,"tag-cloud"),class:p(["card p-8 mb-8 tag-cloud",{"animate-in":f("tag-cloud")}])},[e("div",J,[e("div",Q,[u(r(m),{icon:"lucide:cloud",class:"w-5 h-5 text-white"})]),t[5]||(t[5]=e("h3",{class:"text-lg font-bold text-gray-800 dark:text-white"},"Tag Cloud",-1))]),e("div",W,[(l(!0),i(B,null,T(r(c).allTags,(s,d)=>(l(),i("button",{key:s.name,onClick:de=>k(s.name),class:p(["tag-item rounded-full text-white font-medium transition-all duration-300 hover:scale-110 hover:shadow-lg bg-gradient-to-r",[A(s.count),S(d),n.value===s.name?"ring-2 ring-offset-2 ring-white dark:ring-offset-gray-900 shadow-xl scale-110":"",{"tag-animate":f("tag-cloud")}]]),style:q({animationDelay:`${200+d*50}ms`})},[u(r(m),{icon:"lucide:hash",class:"w-3 h-3 inline mr-0.5"}),v(" "+g(s.name)+" ",1),e("span",Y,"("+g(s.count)+")",1)],14,X))),128))])],2),n.value?(l(),i("div",ee,[e("div",{ref:s=>h(s,"selection-header"),class:p(["flex items-center justify-between mb-6 selection-header",{"animate-in":f("selection-header")}])},[e("h2",te,[e("div",se,[u(r(m),{icon:"lucide:hash",class:"w-4 h-4 text-white"})]),v(" "+g(n.value)+" ",1),e("span",ae,"("+g(_.value.length)+" posts)",1)]),e("button",{onClick:t[0]||(t[0]=s=>k(n.value)),class:"px-3 py-1.5 text-sm text-gray-400 hover:text-white hover:bg-red-500 rounded-lg transition-all flex items-center"},[u(r(m),{icon:"lucide:x",class:"w-4 h-4 mr-1"}),t[6]||(t[6]=v(" Clear Filter ",-1))])],2),e("div",oe,[(l(!0),i(B,null,T(_.value,(s,d)=>(l(),E(N,{key:s.slug,post:s,layout:d%2===0?"left":"right",index:d},null,8,["post","layout","index"]))),128))])])):(l(),i("div",{key:1,ref:s=>h(s,"empty-state"),class:p(["card p-16 text-center empty-state",{"animate-in":f("empty-state")}])},[e("div",ne,[u(r(m),{icon:"lucide:pointer",class:"w-12 h-12 text-gray-400 dark:text-gray-500"})]),t[7]||(t[7]=e("p",{class:"text-gray-500 dark:text-gray-400 mb-2"},"Click a tag above to view related posts",-1)),e("p",re,g(r(c).allTags.length)+" tags waiting to be explored",1)],2))]))])]))}}),me=K(le,[["__scopeId","data-v-a50c30e7"]]);export{me as default};
