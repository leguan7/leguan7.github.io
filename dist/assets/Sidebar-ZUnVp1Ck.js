import{d as P,x as $,u as N,o as R,A as z,p as F,j as u,c as v,a as t,n as x,q as G,e as r,B as I,b as o,m as b,t as d,I as l,f as n,C as O,D as Q,F as w,r as k,k as C,g as U,h as B,i as j,E as A,_ as W}from"./index-CWeiFIn6.js";const H={class:"space-y-5 lg:sticky lg:top-20"},J={class:"px-5 pb-5 -mt-16 text-center relative"},K={class:"avatar-ring inline-block mb-3 group cursor-pointer"},X=["src"],Y={class:"flex justify-around mt-5 py-4 border-t border-b border-gray-100 dark:border-gray-700/50"},Z={class:"text-2xl font-bold text-gray-800 dark:text-white group-hover:text-[#7CB342] transition-all duration-300 group-hover:scale-110"},tt={class:"text-xs text-gray-600 dark:text-gray-400 mt-0.5 flex items-center justify-center"},et={class:"text-2xl font-bold text-gray-800 dark:text-white group-hover:text-[#7CB342] transition-all duration-300 group-hover:scale-110"},st={class:"text-xs text-gray-600 dark:text-gray-400 mt-0.5 flex items-center justify-center"},rt={class:"text-2xl font-bold text-gray-800 dark:text-white group-hover:text-[#7CB342] transition-all duration-300 group-hover:scale-110"},ot={class:"text-xs text-gray-600 dark:text-gray-400 mt-0.5 flex items-center justify-center"},at={class:"flex justify-center space-x-3 mt-4"},lt={class:"relative group"},nt={href:"https://github.com/leguan7",target:"_blank",class:"w-10 h-10 rounded-xl bg-gray-800 text-white flex items-center justify-center hover:scale-110 hover:shadow-lg transition-all duration-300"},it={class:"relative"},dt={class:"relative group"},ct={href:"mailto:leguan701@gmail.com",class:"w-10 h-10 rounded-xl bg-gradient-to-br from-[#7CB342] to-[#8BC34A] text-white flex items-center justify-center hover:scale-110 hover:shadow-lg hover:shadow-[#7CB342]/30 transition-all duration-300"},gt={class:"flex items-center space-x-2 mb-3 pb-3 border-b border-gray-100 dark:border-gray-700/50"},ut={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-orange-400 to-pink-500 flex items-center justify-center"},xt={class:"p-3 rounded-xl bg-gradient-to-br from-[#7CB342]/5 to-[#8BC34A]/5 border border-[#7CB342]/10"},mt={class:"text-sm text-[#7CB342] mt-2 italic flex items-center"},ft={class:"flex items-center space-x-2 mb-4 pb-3 border-b border-gray-100 dark:border-gray-700/50"},bt={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-green-400 to-emerald-500 flex items-center justify-center"},ht={class:"space-y-3"},vt={class:"relative overflow-hidden rounded-lg flex-shrink-0"},pt=["src","alt"],yt={class:"flex-1 min-w-0"},_t={class:"text-sm text-gray-700 dark:text-gray-300 group-hover:text-[#7CB342] transition-colors line-clamp-2 leading-tight font-medium"},wt={class:"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center"},kt={class:"flex items-center justify-between mb-4 pb-3 border-b border-gray-100 dark:border-gray-700/50"},Ct={class:"flex items-center space-x-2"},Bt={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-400 to-violet-500 flex items-center justify-center"},jt={class:"text-xs text-gray-500 dark:text-gray-400"},Tt={class:"flex flex-wrap gap-2"},St=["onClick"],It={class:"flex items-center space-x-2 mb-4 pb-3 border-b border-gray-100 dark:border-gray-700/50"},At={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-400 to-cyan-500 flex items-center justify-center"},Lt={class:"space-y-1"},Dt={class:"flex items-center"},Et={class:"text-xs px-2 py-0.5 rounded-full bg-gray-100 dark:bg-gray-700/50 group-hover:bg-[#7CB342] group-hover:text-white transition-colors"},Mt={class:"flex items-center space-x-2 mb-4 pb-3 border-b border-gray-100 dark:border-gray-700/50"},Vt={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center"},qt={class:"space-y-3"},Pt={class:"flex items-center justify-between p-3 rounded-xl bg-gray-50 dark:bg-gray-800/50"},$t={class:"flex items-center text-sm text-gray-700 dark:text-gray-300"},Nt={class:"text-[#7CB342] font-bold"},Rt={class:"flex items-center justify-between p-3 rounded-xl bg-gray-50 dark:bg-gray-800/50"},zt={class:"flex items-center text-sm text-gray-700 dark:text-gray-300"},Ft={class:"flex items-center justify-between p-3 rounded-xl bg-gray-50 dark:bg-gray-800/50"},Gt={class:"flex items-center text-sm text-gray-700 dark:text-gray-300"},Ot={class:"text-[#7CB342] font-bold text-sm"},Qt=P({__name:"Sidebar",setup(Ut){const L=$(),p=B(!1),g=N(),h=B(new Set),T=B([]);let i=null;const m=(a,e)=>{a&&(T.value[e]=a,i&&(a.__cardIndex=e,i.observe(a)))};R(()=>{i=new IntersectionObserver(a=>{a.forEach(e=>{const c=e.target.__cardIndex;e.isIntersecting&&!h.value.has(c)&&(setTimeout(()=>{h.value.add(c),h.value=new Set(h.value)},c*120),i==null||i.unobserve(e.target))})},{threshold:.2,rootMargin:"0px 0px -50px 0px"}),T.value.forEach((a,e)=>{a&&(a.__cardIndex=e,i==null||i.observe(a))})}),z(()=>{i==null||i.disconnect()});const f=a=>h.value.has(a),y=j(()=>({posts:g.posts.length,tags:g.allTags.length,categories:g.allCategories.length})),D=j(()=>g.allTags.slice(0,20)),E=j(()=>g.sortedPosts.slice(0,5));function M(a,e){return a.cover||A[e%A.length]}function V(a){L.push({path:"/tags",query:{tag:a}})}const S=["from-pink-500/20 to-rose-500/20 text-rose-600 dark:text-rose-400","from-blue-500/20 to-cyan-500/20 text-blue-600 dark:text-blue-400","from-green-500/20 to-emerald-500/20 text-emerald-600 dark:text-emerald-400","from-purple-500/20 to-violet-500/20 text-violet-600 dark:text-violet-400","from-orange-500/20 to-amber-500/20 text-orange-600 dark:text-orange-400","from-cyan-500/20 to-teal-500/20 text-teal-600 dark:text-teal-400"];function q(a){return S[a%S.length]}return(a,e)=>{const c=F("router-link");return u(),v("aside",H,[t("div",{ref:s=>m(s,0),class:x(["card overflow-hidden sidebar-card",{"animate-in":f(0)}])},[t("div",{class:"h-32 bg-cover bg-center relative overflow-hidden group",style:G({backgroundImage:`url(${r(I).fantasyMagicLandscape})`})},[...e[2]||(e[2]=[t("div",{class:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/50"},null,-1),t("div",{class:"absolute inset-0 bg-[#7CB342]/0 group-hover:bg-[#7CB342]/10 transition-colors duration-500"},null,-1)])],4),t("div",J,[t("div",K,[t("img",{src:r(I).avatar,alt:"Leguan",class:"w-28 h-28 rounded-full border-4 border-white dark:border-gray-800 shadow-xl transition-transform duration-500 group-hover:scale-105",onerror:"this.src='https://api.dicebear.com/7.x/avataaars/svg?seed=Leguan'"},null,8,X)]),e[10]||(e[10]=t("h3",{class:"text-xl font-bold text-gray-800 dark:text-white"},"Leguan",-1)),e[11]||(e[11]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1 italic"},"A person who wants to see the world",-1)),t("div",Y,[o(c,{to:"/archives",class:"text-center group cursor-pointer flex-1"},{default:b(()=>[t("div",Z,d(y.value.posts),1),t("div",tt,[o(r(l),{icon:"lucide:file-text",class:"w-3 h-3 mr-1"}),e[3]||(e[3]=n(" Posts ",-1))])]),_:1}),e[6]||(e[6]=t("div",{class:"w-px bg-gray-100 dark:bg-gray-700/50"},null,-1)),o(c,{to:"/tags",class:"text-center group cursor-pointer flex-1"},{default:b(()=>[t("div",et,d(y.value.tags),1),t("div",st,[o(r(l),{icon:"lucide:tags",class:"w-3 h-3 mr-1"}),e[4]||(e[4]=n(" Tags ",-1))])]),_:1}),e[7]||(e[7]=t("div",{class:"w-px bg-gray-100 dark:bg-gray-700/50"},null,-1)),o(c,{to:"/categories",class:"text-center group cursor-pointer flex-1"},{default:b(()=>[t("div",rt,d(y.value.categories),1),t("div",ot,[o(r(l),{icon:"lucide:folder",class:"w-3 h-3 mr-1"}),e[5]||(e[5]=n(" Categories ",-1))])]),_:1})]),t("div",at,[t("div",lt,[t("a",nt,[o(r(l),{icon:"ri:github-fill",class:"w-5 h-5"})]),e[8]||(e[8]=t("div",{class:"social-tooltip"},"GitHub",-1))]),t("div",it,[t("button",{onClick:e[0]||(e[0]=O(s=>p.value=!p.value,["stop"])),class:"w-10 h-10 rounded-xl bg-[#12B7F5] text-white flex items-center justify-center hover:scale-110 hover:shadow-lg hover:shadow-[#12B7F5]/30 transition-all duration-300"},[o(r(l),{icon:"ri:qq-fill",class:"w-5 h-5"})]),o(Q,{visible:p.value,onClose:e[1]||(e[1]=s=>p.value=!1)},null,8,["visible"])]),t("div",dt,[t("a",ct,[o(r(l),{icon:"lucide:mail",class:"w-5 h-5"})]),e[9]||(e[9]=t("div",{class:"social-tooltip"},"leguan701@gmail.com",-1))])])])],2),t("div",{ref:s=>m(s,1),class:x(["card p-5 sidebar-card",{"animate-in":f(1)}])},[t("div",gt,[t("div",ut,[o(r(l),{icon:"lucide:megaphone",class:"w-4 h-4 text-white"})]),e[12]||(e[12]=t("h4",{class:"font-bold text-gray-800 dark:text-white"},"Announcements",-1))]),t("div",xt,[e[14]||(e[14]=t("p",{class:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed"},[n(" Welcome to "),t("span",{class:"text-[#7CB342] font-medium"},"Leguan's Blog"),n("! ")],-1)),t("p",mt,[o(r(l),{icon:"lucide:quote",class:"w-3 h-3 mr-1 text-[#7CB342]/60"}),e[13]||(e[13]=n(" Digest your emotions. ",-1))])])],2),t("div",{ref:s=>m(s,2),class:x(["card p-5 sidebar-card",{"animate-in":f(2)}])},[t("div",ft,[t("div",bt,[o(r(l),{icon:"lucide:clock",class:"w-4 h-4 text-white"})]),e[15]||(e[15]=t("h4",{class:"font-bold text-gray-800 dark:text-white"},"Recent Posts",-1))]),t("div",ht,[(u(!0),v(w,null,k(E.value,(s,_)=>(u(),C(c,{key:s.slug,to:`/post/${s.slug}`,class:"flex items-center space-x-3 group p-2 -mx-2 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors"},{default:b(()=>[t("div",vt,[t("img",{src:M(s,_),alt:s.title,class:"w-16 h-12 object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy",decoding:"async"},null,8,pt),e[16]||(e[16]=t("div",{class:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"},null,-1))]),t("div",yt,[t("h5",_t,d(s.title),1),t("p",wt,[o(r(l),{icon:"lucide:calendar",class:"w-3 h-3 mr-1"}),n(" "+d(s.date),1)])])]),_:2},1032,["to"]))),128))])],2),t("div",{ref:s=>m(s,3),class:x(["card p-5 sidebar-card",{"animate-in":f(3)}])},[t("div",kt,[t("div",Ct,[t("div",Bt,[o(r(l),{icon:"lucide:tags",class:"w-4 h-4 text-white"})]),e[17]||(e[17]=t("h4",{class:"font-bold text-gray-800 dark:text-white"},"Tag Cloud",-1))]),t("span",jt,d(r(g).allTags.length)+" tags",1)]),t("div",Tt,[(u(!0),v(w,null,k(D.value,(s,_)=>(u(),v("button",{key:s.name,onClick:Wt=>V(s.name),class:x(["px-3 py-1.5 text-xs rounded-full bg-gradient-to-r transition-all duration-300 hover:scale-105 hover:shadow-md font-medium",q(_)])},[o(r(l),{icon:"lucide:hash",class:"w-3 h-3 inline mr-0.5"}),n(" "+d(s.name),1)],10,St))),128))]),r(g).allTags.length>20?(u(),C(c,{key:0,to:"/tags",class:"flex items-center justify-center mt-4 py-2 text-xs text-[#7CB342] hover:text-[#D4A04D] transition-colors rounded-lg hover:bg-[#7CB342]/5"},{default:b(()=>[e[18]||(e[18]=n(" View All ",-1)),o(r(l),{icon:"lucide:arrow-right",class:"w-3 h-3 ml-1"})]),_:1})):U("",!0)],2),t("div",{ref:s=>m(s,4),class:x(["card p-5 sidebar-card",{"animate-in":f(4)}])},[t("div",It,[t("div",At,[o(r(l),{icon:"lucide:folder-open",class:"w-4 h-4 text-white"})]),e[19]||(e[19]=t("h4",{class:"font-bold text-gray-800 dark:text-white"},"Categories",-1))]),t("div",Lt,[(u(!0),v(w,null,k(r(g).allCategories.slice(0,8),s=>(u(),C(c,{key:s.name,to:{path:"/categories",query:{category:s.name}},class:"flex items-center justify-between py-2.5 px-3 -mx-1 rounded-xl text-sm text-gray-600 dark:text-gray-400 hover:bg-gradient-to-r hover:from-[#7CB342]/10 hover:to-[#8BC34A]/10 hover:text-[#7CB342] transition-all duration-300 group"},{default:b(()=>[t("span",Dt,[o(r(l),{icon:"lucide:folder",class:"w-4 h-4 mr-2 text-[#7CB342] group-hover:scale-110 transition-transform"}),n(" "+d(s.name),1)]),t("span",Et,d(s.count),1)]),_:2},1032,["to"]))),128))])],2),t("div",{ref:s=>m(s,5),class:x(["card p-5 sidebar-card",{"animate-in":f(5)}])},[t("div",Mt,[t("div",Vt,[o(r(l),{icon:"lucide:bar-chart-2",class:"w-4 h-4 text-white"})]),e[20]||(e[20]=t("h4",{class:"font-bold text-gray-800 dark:text-white"},"Site Info",-1))]),t("div",qt,[t("div",Pt,[t("span",$t,[o(r(l),{icon:"lucide:file-text",class:"w-4 h-4 mr-2 text-blue-500"}),e[21]||(e[21]=n(" Total Posts ",-1))]),t("span",Nt,d(y.value.posts),1)]),t("div",Rt,[t("span",zt,[o(r(l),{icon:"lucide:type",class:"w-4 h-4 mr-2 text-green-500"}),e[22]||(e[22]=n(" Total Words ",-1))]),e[23]||(e[23]=t("span",{class:"text-[#7CB342] font-bold"},"10k+",-1))]),t("div",Ft,[t("span",Gt,[o(r(l),{icon:"lucide:refresh-cw",class:"w-4 h-4 mr-2 text-purple-500"}),e[24]||(e[24]=n(" Last Updated ",-1))]),t("span",Ot,d(new Date().toLocaleDateString("zh-CN")),1)])])],2)])}}}),Jt=W(Qt,[["__scopeId","data-v-9b4bd2fb"]]);export{Jt as S};
