import{d as X,u as tt,o as et,r as it,a as l,c as d,n as _,b as n,w as N,e as t,t as i,f as a,I as c,g as m,h as R,F as C,i as L,j as U,k as B,l as w,m as ft,p as mt,_ as st,q as yt,s as pt,C as nt,v as vt,x as bt,y as wt,z as _t}from"./index-BIzegw81.js";const kt={class:"aspect-[16/10] md:aspect-auto md:h-full relative"},Ct=["src","alt"],$t={class:"text-2xl font-bold leading-none"},Mt={class:"text-xs opacity-90"},jt={key:0,class:"absolute top-4 right-4 bg-gradient-to-br from-orange-500 to-pink-500 text-white px-3 py-1 rounded-full text-xs font-medium shadow-lg flex items-center"},Tt={class:"absolute bottom-4 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 translate-y-4 group-hover:translate-y-0 transition-all duration-500"},Bt={class:"px-4 py-2 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-full text-sm font-medium text-gray-800 dark:text-white shadow-lg flex items-center"},It={class:"md:w-[55%] p-5 md:p-6 flex flex-col justify-center relative"},St={class:"text-xl md:text-2xl font-bold text-gray-800 dark:text-white group-hover/title:text-[#7CB342] transition-colors duration-300 line-clamp-2 pb-1.5 leading-[1.5]"},Pt={class:"mt-3 text-gray-700 dark:text-gray-300 line-clamp-3 leading-relaxed text-sm md:text-base pb-1"},At={class:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700/50 flex items-center justify-between"},Lt={class:"flex flex-wrap gap-1.5"},qt={key:0,class:"text-xs text-gray-500 dark:text-gray-400 self-center"},Dt={class:"flex items-center space-x-3 text-xs text-gray-500 dark:text-gray-400"},Et={class:"flex items-center"},Wt={class:"inline-block min-w-[1.5em] text-center"},Nt=X({__name:"PostCard",props:{post:{},layout:{},index:{}},setup(b){const f=b,u=tt(),$=B(!1);et(()=>{const I=(f.index||0)*200;setTimeout(()=>{$.value=!0},I)});const P=w(()=>u.getViewCount(f.post.slug)),M=w(()=>f.post.cover?ft(f.post.cover):mt(f.post.slug)),j=["from-[#7CB342] to-[#8BC34A]","from-pink-500 to-rose-500","from-purple-500 to-violet-500","from-green-500 to-emerald-500","from-orange-500 to-amber-500","from-cyan-500 to-teal-500"],v=w(()=>{var p,S;const I=((S=(p=f.post.categories)==null?void 0:p[0])==null?void 0:S.charCodeAt(0))||0;return j[I%j.length]});return(I,p)=>{const S=it("router-link");return l(),d("article",{class:_(["card overflow-hidden group post-card",[b.layout==="right"?"md:flex md:flex-row-reverse":"md:flex",{"animate-in":$.value}]])},[n(S,{to:`/post/${b.post.slug}`,class:"block md:w-[45%] relative overflow-hidden"},{default:N(()=>[t("div",kt,[t("img",{src:M.value,alt:b.post.title,class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy",decoding:"async",fetchpriority:"low"},null,8,Ct),p[2]||(p[2]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent"},null,-1)),p[3]||(p[3]=t("div",{class:"absolute inset-0 bg-[#7CB342]/0 group-hover:bg-[#7CB342]/20 transition-colors duration-500"},null,-1)),t("div",{class:_(["absolute top-4 left-4 text-white flex flex-col items-center justify-center w-14 h-14 rounded-xl shadow-lg",`bg-gradient-to-br ${v.value}`])},[t("span",$t,i(new Date(b.post.date).getDate()),1),t("span",Mt,i(new Date(b.post.date).toLocaleDateString("en-US",{month:"short"})),1)],2),b.post.sticky?(l(),d("div",jt,[n(a(c),{icon:"lucide:pin",class:"w-3 h-3 mr-1"}),p[0]||(p[0]=m(" Pinned ",-1))])):R("",!0),t("div",Tt,[t("span",Bt,[n(a(c),{icon:"lucide:book-open",class:"w-4 h-4 mr-2 text-[#7CB342]"}),p[1]||(p[1]=m(" Read More ",-1))])])])]),_:1},8,["to"]),t("div",It,[n(S,{to:`/post/${b.post.slug}`,class:"group/title"},{default:N(()=>[t("h2",St,i(b.post.title),1)]),_:1},8,["to"]),t("p",Pt,i(b.post.excerpt),1),t("div",At,[t("div",Lt,[(l(!0),d(C,null,L(b.post.tags.slice(0,3),q=>(l(),U(S,{key:q,to:{path:"/tags",query:{tag:q}},class:"text-xs px-2.5 py-1 rounded-full bg-gray-100 dark:bg-gray-700/50 text-gray-600 dark:text-gray-300 hover:bg-[#7CB342] hover:text-white transition-all duration-300 flex items-center"},{default:N(()=>[n(a(c),{icon:"lucide:hash",class:"w-2.5 h-2.5 mr-0.5"}),m(" "+i(q),1)]),_:2},1032,["to"]))),128)),b.post.tags.length>3?(l(),d("span",qt," +"+i(b.post.tags.length-3),1)):R("",!0)]),t("div",Dt,[t("span",Et,[n(a(c),{icon:"lucide:eye",class:"w-3.5 h-3.5 mr-1 text-[#7CB342]"}),t("span",Wt,i(P.value||"--"),1),p[4]||(p[4]=t("span",{class:"ml-1"},"views",-1))])])]),t("div",{class:_(["absolute -bottom-10 -right-10 w-32 h-32 rounded-full opacity-5 dark:opacity-10",`bg-gradient-to-br ${v.value}`])},null,2)])],2)}}}),Rt=st(Nt,[["__scopeId","data-v-dd3d9fe0"]]),Ht={class:"space-y-5 lg:sticky lg:top-20"},Vt={class:"flex justify-center mb-4"},Ft={class:"neu-avatar"},Ot=["src"],Gt={class:"flip-box mx-auto"},zt={class:"flip-box-inner"},Ut={class:"flip-box-back"},Jt={class:"flex items-center justify-center gap-3"},Qt={href:"https://github.com/leguan7",target:"_blank",rel:"noopener noreferrer",class:"social-icon-btn group w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-600/40 flex items-center justify-center text-gray-500 dark:text-gray-400 hover:text-[#333] dark:hover:text-white transition-all hover:scale-110"},Yt={href:"mailto:leguan701@gmail.com",class:"social-icon-btn group w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-600/40 flex items-center justify-center text-gray-500 dark:text-gray-400 hover:text-orange-500 dark:hover:text-orange-400 transition-all hover:scale-110"},Kt={class:"social-icon-btn group w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-600/40 flex items-center justify-center text-gray-500 dark:text-gray-400 hover:text-[#12B7F5] dark:hover:text-[#12B7F5] transition-all hover:scale-110"},Zt={class:"flex items-center space-x-2 mb-4 pb-3 border-b border-gray-100 dark:border-gray-700/50"},Xt={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-green-400 to-emerald-500 flex items-center justify-center"},te={class:"space-y-3"},ee={class:"relative overflow-hidden rounded-lg flex-shrink-0"},se=["src","alt"],oe={class:"flex-1 min-w-0"},ae={class:"text-sm text-gray-700 dark:text-gray-300 group-hover:text-[#7CB342] transition-colors line-clamp-2 leading-normal font-medium pb-0.5"},re={class:"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center"},ne={class:"flex items-center justify-between mb-4 pb-3 border-b border-gray-100 dark:border-gray-700/50"},le={class:"flex items-center space-x-2"},ie={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-400 to-violet-500 flex items-center justify-center"},ce={class:"text-xs text-gray-500 dark:text-gray-400"},de={class:"flex flex-wrap gap-2"},ue=["onClick"],ge={class:"flex items-center space-x-2 mb-4 pb-3 border-b border-gray-100 dark:border-gray-700/50"},xe={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-400 to-cyan-500 flex items-center justify-center"},he={class:"space-y-1"},fe={class:"flex items-center"},me={class:"text-xs px-2 py-0.5 rounded-full bg-gray-100 dark:bg-gray-700/50 group-hover:bg-[#7CB342] group-hover:text-white transition-colors"},ye={class:"flex items-center space-x-2 mb-4 pb-3 border-b border-gray-100 dark:border-gray-700/50"},pe={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center"},ve={class:"space-y-3"},be={class:"flex items-center justify-between p-3 rounded-xl bg-gray-50 dark:bg-gray-800/50"},we={class:"flex items-center text-sm text-gray-700 dark:text-gray-300"},_e={class:"text-[#7CB342] font-bold"},ke={class:"flex items-center justify-between p-3 rounded-xl bg-gray-50 dark:bg-gray-800/50"},Ce={class:"flex items-center text-sm text-gray-700 dark:text-gray-300"},$e={class:"text-[#7CB342] font-bold"},Me={class:"flex items-center justify-between p-3 rounded-xl bg-gray-50 dark:bg-gray-800/50"},je={class:"flex items-center text-sm text-gray-700 dark:text-gray-300"},Te={class:"text-[#7CB342] font-bold text-sm"},Be=X({__name:"Sidebar",setup(b){const f=yt(),u=tt(),$=B(new Set),P=(x,r)=>{};et(()=>{for(let x=0;x<50;x++)setTimeout(()=>{$.value.add(x),$.value=new Set($.value)},x*150)});const M=x=>$.value.has(x),j=w(()=>{const x=u.posts.reduce((r,A)=>{const g=A.content||"",h=(g.match(/[\u4e00-\u9fff]/g)||[]).length,T=g.replace(/[\u4e00-\u9fff]/g,"").split(/\s+/).filter(Boolean).length;return r+h+T},0);return{posts:u.posts.length,tags:u.allTags.length,categories:u.allCategories.length,totalWords:x}}),v=w(()=>u.allTags.slice(0,20)),I=w(()=>u.sortedPosts.slice(0,5)),p=w(()=>{const x=u.sortedPosts[0];if(!x)return"--";const r=new Date(x.date),g=new Date().getTime()-r.getTime(),h=Math.floor(g/1e3),T=Math.floor(h/60),D=Math.floor(T/60),W=Math.floor(D/24),H=Math.floor(W/30),G=Math.floor(W/365);return h<60?"just now":T<60?`${T} min ago`:D<24?`${D} hr ago`:W<30?`${W} day${W>1?"s":""} ago`:H<12?`${H} month${H>1?"s":""} ago`:`${G} year${G>1?"s":""} ago`});function S(x,r){return x.cover||nt[r%nt.length]}function q(x){f.push({path:"/tags",query:{tag:x}})}const O=["from-pink-500/20 to-rose-500/20 text-rose-600 dark:text-rose-400","from-blue-500/20 to-cyan-500/20 text-blue-600 dark:text-blue-400","from-green-500/20 to-emerald-500/20 text-emerald-600 dark:text-emerald-400","from-purple-500/20 to-violet-500/20 text-violet-600 dark:text-violet-400","from-orange-500/20 to-amber-500/20 text-orange-600 dark:text-orange-400","from-cyan-500/20 to-teal-500/20 text-teal-600 dark:text-teal-400"];function J(x){return O[x%O.length]}return(x,r)=>{const A=it("router-link");return l(),d("aside",Ht,[t("div",{class:_(["card p-6 sidebar-card",{"animate-in":M(0)}])},[t("div",Vt,[t("div",Ft,[t("img",{src:a(pt).avatar,alt:"Leguan",class:"neu-avatar-img"},null,8,Ot)])]),r[5]||(r[5]=t("h3",{class:"text-center text-lg font-bold text-gray-800 dark:text-white leading-normal mb-3"},"Leguan",-1)),t("div",Gt,[t("div",zt,[r[4]||(r[4]=t("div",{class:"flip-box-front"},[t("p",{class:"text-sm text-gray-500 dark:text-gray-400 italic leading-relaxed text-center px-2"},"Better late than never")],-1)),t("div",Ut,[t("div",Jt,[t("a",Qt,[n(a(c),{icon:"ri:github-fill",class:"w-4.5 h-4.5"}),r[0]||(r[0]=t("span",{class:"social-tip"},[m("github.com/leguan7"),t("i",{class:"social-tip-arrow"})],-1))]),t("a",Yt,[n(a(c),{icon:"lucide:mail",class:"w-4.5 h-4.5"}),r[1]||(r[1]=t("span",{class:"social-tip"},[m("leguan701@gmail.com"),t("i",{class:"social-tip-arrow"})],-1))]),t("span",Kt,[n(a(c),{icon:"ri:qq-fill",class:"w-4.5 h-4.5"}),r[2]||(r[2]=t("span",{class:"social-tip"},[m("1944553927"),t("i",{class:"social-tip-arrow"})],-1))]),n(A,{to:"/messageboard",class:"social-icon-btn group w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-600/40 flex items-center justify-center text-gray-500 dark:text-gray-400 hover:text-[#7CB342] dark:hover:text-[#9CCC65] transition-all hover:scale-110"},{default:N(()=>[n(a(c),{icon:"lucide:message-circle",class:"w-4.5 h-4.5"}),r[3]||(r[3]=t("span",{class:"social-tip"},[m("Guestbook"),t("i",{class:"social-tip-arrow"})],-1))]),_:1})])])])])],2),t("div",{ref:g=>P(),class:_(["card p-5 sidebar-card",{"animate-in":M(1)}])},[t("div",Zt,[t("div",Xt,[n(a(c),{icon:"lucide:clock",class:"w-4 h-4 text-white"})]),r[6]||(r[6]=t("h4",{class:"font-bold text-gray-800 dark:text-white"},"Recent Posts",-1))]),t("div",te,[(l(!0),d(C,null,L(I.value,(g,h)=>(l(),U(A,{key:g.slug,to:`/post/${g.slug}`,class:"flex items-center space-x-3 group p-2 -mx-2 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors"},{default:N(()=>[t("div",ee,[t("img",{src:S(g,h),alt:g.title,class:"w-16 h-12 object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy",decoding:"async"},null,8,se),r[7]||(r[7]=t("div",{class:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"},null,-1))]),t("div",oe,[t("h5",ae,i(g.title),1),t("p",re,[n(a(c),{icon:"lucide:calendar",class:"w-3 h-3 mr-1"}),m(" "+i(g.date),1)])])]),_:2},1032,["to"]))),128))])],2),t("div",{ref:g=>P(),class:_(["card p-5 sidebar-card",{"animate-in":M(2)}])},[t("div",ne,[t("div",le,[t("div",ie,[n(a(c),{icon:"lucide:tags",class:"w-4 h-4 text-white"})]),r[8]||(r[8]=t("h4",{class:"font-bold text-gray-800 dark:text-white"},"Tag Cloud",-1))]),t("span",ce,i(a(u).allTags.length)+" tags",1)]),t("div",de,[(l(!0),d(C,null,L(v.value,(g,h)=>(l(),d("button",{key:g.name,onClick:T=>q(g.name),class:_(["px-3 py-1.5 text-xs rounded-full bg-gradient-to-r transition-all duration-300 hover:scale-105 hover:shadow-md font-medium",J(h)])},[n(a(c),{icon:"lucide:hash",class:"w-3 h-3 inline mr-0.5"}),m(" "+i(g.name),1)],10,ue))),128))]),a(u).allTags.length>20?(l(),U(A,{key:0,to:"/tags",class:"flex items-center justify-center mt-4 py-2 text-xs text-[#7CB342] hover:text-[#D4A04D] transition-colors rounded-lg hover:bg-[#7CB342]/5"},{default:N(()=>[r[9]||(r[9]=m(" View All ",-1)),n(a(c),{icon:"lucide:arrow-right",class:"w-3 h-3 ml-1"})]),_:1})):R("",!0)],2),t("div",{ref:g=>P(),class:_(["card p-5 sidebar-card",{"animate-in":M(3)}])},[t("div",ge,[t("div",xe,[n(a(c),{icon:"lucide:folder-open",class:"w-4 h-4 text-white"})]),r[10]||(r[10]=t("h4",{class:"font-bold text-gray-800 dark:text-white"},"Categories",-1))]),t("div",he,[(l(!0),d(C,null,L(a(u).allCategories.slice(0,8),g=>(l(),U(A,{key:g.name,to:{path:"/categories",query:{category:g.name}},class:"flex items-center justify-between py-2.5 px-3 -mx-1 rounded-xl text-sm text-gray-600 dark:text-gray-400 hover:bg-gradient-to-r hover:from-[#7CB342]/10 hover:to-[#8BC34A]/10 hover:text-[#7CB342] transition-all duration-300 group"},{default:N(()=>[t("span",fe,[n(a(c),{icon:"lucide:folder",class:"w-4 h-4 mr-2 text-[#7CB342] group-hover:scale-110 transition-transform"}),m(" "+i(g.name),1)]),t("span",me,i(g.count),1)]),_:2},1032,["to"]))),128))])],2),t("div",{ref:g=>P(),class:_(["card p-5 sidebar-card",{"animate-in":M(4)}])},[t("div",ye,[t("div",pe,[n(a(c),{icon:"lucide:bar-chart-2",class:"w-4 h-4 text-white"})]),r[11]||(r[11]=t("h4",{class:"font-bold text-gray-800 dark:text-white"},"Site Info",-1))]),t("div",ve,[t("div",be,[t("span",we,[n(a(c),{icon:"lucide:file-text",class:"w-4 h-4 mr-2 text-blue-500"}),r[12]||(r[12]=m(" Total Posts ",-1))]),t("span",_e,i(j.value.posts),1)]),t("div",ke,[t("span",Ce,[n(a(c),{icon:"lucide:type",class:"w-4 h-4 mr-2 text-green-500"}),r[13]||(r[13]=m(" Total Words ",-1))]),t("span",$e,i(j.value.totalWords>=1e3?(j.value.totalWords/1e3).toFixed(1)+"k":j.value.totalWords),1)]),t("div",Me,[t("span",je,[n(a(c),{icon:"lucide:refresh-cw",class:"w-4 h-4 mr-2 text-purple-500"}),r[14]||(r[14]=m(" Last Updated ",-1))]),t("span",Te,i(p.value),1)])])],2)])}}}),Ie=st(Be,[["__scopeId","data-v-b4eb103b"]]),Se={class:"relative h-screen flex items-center justify-center overflow-hidden"},Pe={class:"relative text-center text-white z-10 px-4 hero-content"},Ae={class:"text-xl md:text-2xl text-white/90 mb-2 drop-shadow-lg hero-subtitle"},Le={key:0,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},qe={class:"card flex items-center justify-between px-5 py-3"},De={class:"text-[#7CB342] flex items-center"},Ee={id:"posts-section",class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},We={class:"lg:flex lg:gap-8"},Ne={class:"lg:w-2/3 space-y-6"},Re={key:0,class:"card p-16 text-center"},He={key:1,class:"card p-16 text-center"},Ve={key:3,class:"flex justify-center items-center space-x-1 pt-6"},Fe=["disabled"],Oe=["onClick"],Ge={key:1,class:"w-10 h-10 flex items-center justify-center text-gray-400"},ze=["disabled"],Ue={class:"info-bar mt-10 rounded-2xl p-5 backdrop-blur-xl"},Je={class:"grid grid-cols-1 md:grid-cols-3 gap-5"},Qe={class:"neu-clock-card p-4 rounded-2xl group transition-all duration-300"},Ye={class:"text-center mb-3"},Ke={class:"neu-icon-circle w-11 h-11 rounded-full mx-auto mb-2 flex items-center justify-center"},Ze={class:"text-xs text-[#7CB342] dark:text-[#9CCC65] mt-0.5"},Xe={class:"text-xs text-gray-400 dark:text-gray-500 leading-normal mt-0.5"},ts={key:0,class:"inline-block w-20 h-3 bg-gray-300/50 dark:bg-gray-600 rounded animate-pulse"},es={class:"neu-inset p-2.5 rounded-xl"},ss={class:"text-sm text-gray-500 dark:text-gray-400 leading-relaxed text-center"},os={class:"flex items-center justify-center gap-4 mt-3 pt-2.5 border-t border-gray-300/30 dark:border-gray-600/20 text-xs text-gray-400 dark:text-gray-500"},as={class:"flex flex-col items-center"},rs={class:"font-bold text-sm text-gray-600 dark:text-gray-300"},ns={class:"flex flex-col items-center"},ls={class:"font-bold text-sm text-gray-600 dark:text-gray-300"},is={class:"flex flex-col items-center"},cs={class:"font-bold text-sm text-gray-600 dark:text-gray-300"},ds={class:"neu-clock-card p-4 rounded-2xl group transition-all duration-300"},us={class:"text-center mb-2"},gs={class:"neu-icon-circle w-11 h-11 rounded-full mx-auto mb-2 flex items-center justify-center"},xs={class:"flex justify-center py-1"},hs={class:"neu-clock-face"},fs={viewBox:"0 0 200 200",class:"w-full h-full"},ms=["x1","y1","x2","y2"],ys=["x1","y1","x2","y2"],ps=["x","y"],vs=["x2","y2"],bs=["x2","y2"],ws=["x2","y2"],_s={class:"text-center mt-2"},ks={class:"text-base font-bold tracking-wider text-gray-500 dark:text-gray-400 clock-digits"},Cs={class:"text-xs text-gray-400 dark:text-gray-500 leading-normal"},$s={class:"neu-clock-card p-4 rounded-2xl group transition-all duration-300"},Ms={class:"text-center mb-3"},js={class:"neu-icon-circle w-11 h-11 rounded-full mx-auto mb-2 flex items-center justify-center"},Ts={key:0,class:"text-center py-4"},Bs={class:"neu-inset rounded-xl p-4 inline-flex"},Is={key:1},Ss={class:"neu-inset rounded-xl p-3 mb-3"},Ps={class:"flex items-center justify-center space-x-3"},As={class:"text-left"},Ls={class:"text-3xl font-bold text-gray-600 dark:text-gray-300"},qs={class:"text-xs text-gray-400 dark:text-gray-500 leading-normal"},Ds={class:"grid grid-cols-2 gap-2 mb-3"},Es={class:"neu-inset rounded-lg px-2.5 py-2 text-center"},Ws={class:"text-sm font-bold text-gray-600 dark:text-gray-300 mt-0.5"},Ns={class:"neu-inset rounded-lg px-2.5 py-2 text-center"},Rs={class:"text-sm font-bold text-gray-600 dark:text-gray-300 mt-0.5"},Hs={class:"neu-inset rounded-lg px-2.5 py-2 text-center"},Vs={class:"text-sm font-bold text-gray-600 dark:text-gray-300 mt-0.5"},Fs={key:0,class:"text-[10px] font-normal text-gray-400"},Os={class:"flex items-center justify-center gap-1.5"},Gs={key:2,class:"text-center py-3"},zs={class:"neu-inset rounded-xl p-4 inline-flex mb-2"},Us={class:"lg:w-1/3 mt-8 lg:mt-0"},K=6,lt="blog_location_cache",Js=6*60*60*1e3,Z="blog_weather_cache",Qs=30*60*1e3,Ys=60*60*1e3,Ks=X({__name:"Home",setup(b){const f=tt(),u=B(1),$=B(""),P=["Digest your emotions","No cross, no crown","Don't let the past steal your present","Stars can't shine without darkness","Spend your life in your own way","It's up to you how far you'll go","I am not afraid of tomorrow for I have seen yesterday and love today"];let M=0;const j=B(!0),v=B(new Date);let I=null;const p=w(()=>{const s=v.value.getHours().toString().padStart(2,"0"),e=v.value.getMinutes().toString().padStart(2,"0"),o=v.value.getSeconds().toString().padStart(2,"0");return`${s}:${e}:${o}`}),S=w(()=>{const s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=v.value;return`${s[o.getDay()]}, ${e[o.getMonth()]} ${o.getDate()}, ${o.getFullYear()}`}),q=w(()=>{const s=v.value.getHours()%12,e=v.value.getMinutes();return s*30+e*.5}),O=w(()=>{const s=v.value.getMinutes(),e=v.value.getSeconds();return s*6+e*.1}),J=w(()=>v.value.getSeconds()*6),x=B(""),r=B(!0);async function A(){r.value=!0;try{const s=localStorage.getItem(lt);if(s){const e=JSON.parse(s);if(e.location&&e.ts&&Date.now()-e.ts<Js){x.value=e.location,r.value=!1;return}}}catch{}try{const e=await(await fetch("https://ipapi.co/json/",{signal:AbortSignal.timeout(5e3)})).json();if(e.error)throw new Error(e.reason);const o=[e.city,e.region,e.country_name].filter(Boolean),y=o.filter((k,E)=>E===0||k!==o[E-1]);x.value=y.join(", ");try{localStorage.setItem(lt,JSON.stringify({location:x.value,ts:Date.now()}))}catch{}}catch{x.value=""}finally{r.value=!1}}const g=w(()=>{const s=v.value.getHours();return s<6?{text:"Night Owl Mode",icon:"lucide:moon-star",emoji:"ðŸŒ™",message:"Burning the midnight oil? Remember to rest well. Grab a warm drink and enjoy some quiet reading."}:s<12?{text:"Good Morning",icon:"lucide:sunrise",emoji:"ðŸŒ…",message:"A brand new day begins! Start with something inspiring â€” a fresh article awaits you."}:s<14?{text:"Good Afternoon",icon:"lucide:sun",emoji:"â˜€ï¸",message:"Lunch break? Perfect time to browse through some posts and recharge your mind."}:s<18?{text:"Good Afternoon",icon:"lucide:cloud-sun",emoji:"ðŸŒ¤ï¸",message:"The afternoon is rolling along. Take a break, explore something new, and enjoy the journey."}:s<22?{text:"Good Evening",icon:"lucide:sunset",emoji:"ðŸŒ‡",message:"Wind down your day with some light reading. There's always something interesting to discover."}:{text:"Night Owl Mode",icon:"lucide:moon-star",emoji:"ðŸŒ™",message:"Burning the midnight oil? Remember to rest well. Grab a warm drink and enjoy some quiet reading."}}),h=B(null),T=B(!0),D=B(!1);function W(){try{const s=localStorage.getItem(Z);return s?JSON.parse(s):{}}catch{return{}}}function H(s,e,o){try{localStorage.setItem(Z,JSON.stringify({weather:s,weatherTs:e,aqiTs:o}))}catch{}}async function G(s,e=2,o=6e3){for(let y=0;y<e;y++){try{const k=await fetch(s,{signal:AbortSignal.timeout(o)});if(k.ok)return k}catch{if(y===e-1)throw new Error("Fetch failed after retries")}await new Promise(k=>setTimeout(k,(y+1)*500))}throw new Error("Fetch failed")}async function Q(){var o,y,k,E,z;T.value=!0;const s=W(),e=Date.now();if(s.weather&&s.weatherTs&&e-s.weatherTs<Qs){h.value=s.weather,T.value=!1,(!s.aqiTs||e-s.aqiTs>=Ys)&&ot(s.weather,s.weatherTs);return}try{const F=(o=(await(await G("https://wttr.in/Nanshan,Shenzhen?format=j1")).json()).current_condition)==null?void 0:o[0];if(F){const at={temp:parseInt(F.temp_C),desc:((k=(y=F.weatherDesc)==null?void 0:y[0])==null?void 0:k.value)||"Unknown",icon:ut(parseInt(F.weatherCode)),windDir:F.winddir16Point||"",precipMM:F.precipMM||"0.0",aqi:((E=s.weather)==null?void 0:E.aqi)||"--",aqiLevel:((z=s.weather)==null?void 0:z.aqiLevel)||""};h.value=at;const rt=e,ht=await ot(at,rt);H(h.value,rt,ht||s.aqiTs||0)}}catch{s.weather?h.value=s.weather:h.value=null}finally{T.value=!1}}async function ot(s,e){var o;try{const k=await(await G("https://api.waqi.info/feed/shenzhen/?token=7aa32bb937d5d639e5022529f497030ec122a868",2,5e3)).json();if(k.status==="ok"&&((o=k.data)!=null&&o.aqi)){const E=k.data.aqi;s.aqi=String(E),s.aqiLevel=dt(E),h.value&&(h.value.aqi=s.aqi,h.value.aqiLevel=s.aqiLevel);const z=Date.now();return H(s,e,z),z}}catch{}return 0}async function ct(){if(!D.value){D.value=!0;try{localStorage.removeItem(Z)}catch{}await Q(),D.value=!1}}function dt(s){return s<=50?"Good":s<=100?"Moderate":s<=150?"Unhealthy (S)":s<=200?"Unhealthy":s<=300?"Very Unhealthy":"Hazardous"}function ut(s){return s===113?"lucide:sun":s===116?"lucide:cloud-sun":s===119||s===122?"lucide:cloud":[176,263,266,293,296,299,302,305,308,311,314,353,356,359].includes(s)?"lucide:cloud-rain":[200,386,389,392,395].includes(s)?"lucide:cloud-lightning":[227,230,323,326,329,332,335,338,368,371,374,377].includes(s)?"lucide:cloud-snow":[143,248,260].includes(s)?"lucide:cloud-fog":"lucide:cloud"}et(()=>{I=setInterval(()=>{v.value=new Date},1e3),Q(),A();let s=!0,e=0;const o=()=>{const y=P[M];s?e<y.length?($.value=y.substring(0,e+1),e++,setTimeout(o,100)):(s=!1,setTimeout(o,1e3)):e>0?(e--,$.value=y.substring(0,e),setTimeout(o,60)):(M=(M+1)%P.length,s=!0,setTimeout(o,1e3))};o(),setInterval(()=>{j.value=!j.value},530)}),vt(()=>{I&&clearInterval(I)});const gt=w(()=>{const s=(u.value-1)*K,e=s+K;return f.filteredPosts.slice(s,e)}),V=w(()=>Math.ceil(f.filteredPosts.length/K));function Y(s){var e;s>=1&&s<=V.value&&(u.value=s,(e=document.getElementById("posts-section"))==null||e.scrollIntoView({behavior:"smooth"}))}bt(()=>f.searchQuery,()=>{u.value=1});function xt(){var s;(s=document.getElementById("posts-section"))==null||s.scrollIntoView({behavior:"smooth"})}return(s,e)=>(l(),d("div",null,[t("section",Se,[e[4]||(e[4]=t("div",{class:"absolute inset-0 bg-gradient-to-b from-black/20 via-transparent to-black/40"},null,-1)),t("div",Pe,[e[3]||(e[3]=t("h1",{class:"text-5xl md:text-7xl font-bold mb-6 drop-shadow-2xl hero-title"}," Leguan's Blog ",-1)),t("p",Ae,[t("span",null,i($.value),1),t("span",{class:_(["typewriter-cursor",{"opacity-0":!j.value}])},null,2)])]),t("button",{onClick:xt,class:"absolute bottom-10 left-1/2 -translate-x-1/2 text-white scroll-down-btn group"},[n(a(c),{icon:"lucide:chevrons-down",class:"w-8 h-8 drop-shadow-lg group-hover:scale-125 transition-transform"})]),e[5]||(e[5]=t("div",{class:"wave-divider"},[t("svg",{viewBox:"0 0 1440 100",preserveAspectRatio:"none"},[t("path",{d:"M0,50 C150,100 350,0 600,50 C850,100 1050,0 1200,50 C1350,100 1440,50 1440,50 L1440,100 L0,100 Z",fill:"rgba(255,255,255,0.1)"}),t("path",{d:"M0,70 C150,100 350,30 600,70 C850,110 1050,30 1200,70 C1350,110 1440,70 1440,70 L1440,100 L0,100 Z",fill:"rgba(255,255,255,0.15)"})])],-1))]),a(f).searchQuery?(l(),d("div",Le,[t("div",qe,[t("span",De,[n(a(c),{icon:"lucide:search",class:"w-4 h-4 mr-2"}),m(" Found "+i(a(f).filteredPosts.length)+' posts for "',1),t("strong",null,i(a(f).searchQuery),1),e[6]||(e[6]=m('" ',-1))]),t("button",{onClick:e[0]||(e[0]=o=>a(f).setSearchQuery("")),class:"text-gray-400 hover:text-[#D4A04D] transition-colors"},[n(a(c),{icon:"lucide:x-circle",class:"w-5 h-5"})])])])):R("",!0),t("section",Ee,[t("div",We,[t("div",Ne,[a(f).isLoading?(l(),d("div",Re,[...e[7]||(e[7]=[t("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-[#7CB342] border-t-transparent"},null,-1),t("p",{class:"mt-4 text-gray-500"},"Loading...",-1)])])):a(f).filteredPosts.length===0?(l(),d("div",He,[n(a(c),{icon:"lucide:inbox",class:"w-20 h-20 text-gray-400 dark:text-gray-500 mx-auto"}),e[8]||(e[8]=t("p",{class:"mt-4 text-gray-500"},"No posts yet",-1))])):(l(!0),d(C,{key:2},L(gt.value,(o,y)=>(l(),U(Rt,{key:o.slug,post:o,layout:y%2===0?"left":"right",index:y},null,8,["post","layout","index"]))),128)),V.value>1?(l(),d("nav",Ve,[t("button",{onClick:e[1]||(e[1]=o=>Y(u.value-1)),disabled:u.value===1,class:_(["w-10 h-10 rounded-lg flex items-center justify-center transition-all duration-300 disabled:opacity-30 disabled:cursor-not-allowed",u.value===1?"":"card hover:bg-[#7CB342] hover:text-white"])},[n(a(c),{icon:"lucide:chevron-left",class:"w-4 h-4"})],10,Fe),(l(!0),d(C,null,L(V.value,o=>(l(),d(C,{key:o},[o===1||o===V.value||o>=u.value-1&&o<=u.value+1?(l(),d("button",{key:0,onClick:y=>Y(o),class:_(["w-10 h-10 rounded-lg flex items-center justify-center font-medium transition-all duration-300",o===u.value?"bg-[#7CB342] text-white shadow-lg shadow-[#7CB342]/30":"card hover:bg-[#7CB342] hover:text-white"])},i(o),11,Oe)):o===u.value-2||o===u.value+2?(l(),d("span",Ge," ... ")):R("",!0)],64))),128)),t("button",{onClick:e[2]||(e[2]=o=>Y(u.value+1)),disabled:u.value===V.value,class:_(["w-10 h-10 rounded-lg flex items-center justify-center transition-all duration-300 disabled:opacity-30 disabled:cursor-not-allowed",u.value===V.value?"":"card hover:bg-[#7CB342] hover:text-white"])},[n(a(c),{icon:"lucide:chevron-right",class:"w-4 h-4"})],10,ze)])):R("",!0),t("div",Ue,[e[26]||(e[26]=t("div",{class:"text-center mb-5 pb-3 border-b border-white/20 dark:border-gray-600/30"},[t("h3",{class:"font-bold text-gray-800 dark:text-white text-lg tracking-wide"},"Info Bar")],-1)),t("div",Je,[t("div",Qe,[t("div",Ye,[t("div",Ke,[n(a(c),{icon:"lucide:hand",class:"w-5 h-5 text-[#7CB342]"})]),e[9]||(e[9]=t("h4",{class:"font-bold text-gray-600 dark:text-gray-300 text-sm leading-normal"},"Welcome",-1)),t("p",Ze,i(g.value.text),1),t("p",Xe,[r.value?(l(),d("span",ts)):x.value?(l(),d(C,{key:1},[m(" Welcome from "+i(x.value),1)],64)):(l(),d(C,{key:2},[m("Welcome to Leguan's Blog")],64))])]),t("div",es,[t("p",ss,i(g.value.message),1)]),t("div",os,[t("div",as,[t("span",rs,i(a(f).posts.length),1),e[10]||(e[10]=t("span",null,"posts",-1))]),e[13]||(e[13]=t("span",{class:"text-gray-300 dark:text-gray-600"},"|",-1)),t("div",ns,[t("span",ls,i(a(f).allTags.length),1),e[11]||(e[11]=t("span",null,"tags",-1))]),e[14]||(e[14]=t("span",{class:"text-gray-300 dark:text-gray-600"},"|",-1)),t("div",is,[t("span",cs,i(a(f).allCategories.length),1),e[12]||(e[12]=t("span",null,"categories",-1))])])]),t("div",ds,[t("div",us,[t("div",gs,[n(a(c),{icon:"lucide:clock-3",class:"w-5 h-5 text-[#9C27B0]"})]),e[15]||(e[15]=t("h4",{class:"font-bold text-gray-600 dark:text-gray-300 text-sm leading-normal"},"Clock",-1))]),t("div",xs,[t("div",hs,[(l(),d("svg",fs,[(l(),d(C,null,L(12,o=>t("line",{key:"h"+o,x1:100+78*Math.sin(o*30*Math.PI/180),y1:100-78*Math.cos(o*30*Math.PI/180),x2:100+86*Math.sin(o*30*Math.PI/180),y2:100-86*Math.cos(o*30*Math.PI/180),class:"neu-tick-major","stroke-width":"2","stroke-linecap":"round"},null,8,ms)),64)),(l(),d(C,null,L(60,o=>wt(t("line",{key:"m"+o,x1:100+82*Math.sin(o*6*Math.PI/180),y1:100-82*Math.cos(o*6*Math.PI/180),x2:100+86*Math.sin(o*6*Math.PI/180),y2:100-86*Math.cos(o*6*Math.PI/180),class:"neu-tick-minor","stroke-width":"1","stroke-linecap":"round"},null,8,ys),[[_t,o%5!==0]])),64)),(l(),d(C,null,L([12,3,6,9],o=>t("text",{key:"n"+o,x:100+66*Math.sin(o*30*Math.PI/180),y:100-66*Math.cos(o*30*Math.PI/180)+5.5,"text-anchor":"middle","font-size":"16","font-weight":"600",class:"neu-number"},i(o),9,ps)),64)),t("line",{x1:"100",y1:"100",x2:100+46*Math.sin(q.value*Math.PI/180),y2:100-46*Math.cos(q.value*Math.PI/180),class:"neu-hand-hour","stroke-width":"5","stroke-linecap":"round"},null,8,vs),t("line",{x1:"100",y1:"100",x2:100+62*Math.sin(O.value*Math.PI/180),y2:100-62*Math.cos(O.value*Math.PI/180),class:"neu-hand-minute","stroke-width":"3","stroke-linecap":"round"},null,8,bs),t("line",{x1:"100",y1:"100",x2:100+70*Math.sin(J.value*Math.PI/180),y2:100-70*Math.cos(J.value*Math.PI/180),class:"neu-hand-second","stroke-width":"1.5","stroke-linecap":"round"},null,8,ws),e[16]||(e[16]=t("circle",{cx:"100",cy:"100",r:"5",class:"neu-center-dot"},null,-1)),e[17]||(e[17]=t("circle",{cx:"100",cy:"100",r:"2.5",class:"neu-center-inner"},null,-1))]))])]),t("div",_s,[t("div",ks,i(p.value),1),t("p",Cs,i(S.value),1)])]),t("div",$s,[t("div",Ms,[t("div",js,[n(a(c),{icon:"lucide:cloud-sun",class:"w-5 h-5 text-[#4a6cf7]"})]),e[18]||(e[18]=t("h4",{class:"font-bold text-gray-600 dark:text-gray-300 text-sm leading-normal"},"Weather",-1))]),T.value?(l(),d("div",Ts,[t("div",Bs,[n(a(c),{icon:"lucide:loader-2",class:"w-7 h-7 animate-spin text-[#4a6cf7]"})]),e[19]||(e[19]=t("p",{class:"text-xs text-gray-400 dark:text-gray-500 mt-2"},"Fetching...",-1))])):h.value?(l(),d("div",Is,[t("div",Ss,[t("div",Ps,[n(a(c),{icon:h.value.icon,class:"w-10 h-10 text-[#4a6cf7]"},null,8,["icon"]),t("div",As,[t("div",Ls,i(h.value.temp)+"Â°C",1),t("p",qs,i(h.value.desc),1)])])]),t("div",Ds,[t("div",Es,[e[20]||(e[20]=t("p",{class:"text-[10px] text-gray-400 dark:text-gray-500 uppercase tracking-wider"},"Wind",-1)),t("p",Ws,i(h.value.windDir),1)]),t("div",Ns,[e[21]||(e[21]=t("p",{class:"text-[10px] text-gray-400 dark:text-gray-500 uppercase tracking-wider"},"Precip",-1)),t("p",Rs,i(h.value.precipMM)+" mm",1)]),t("div",Hs,[e[22]||(e[22]=t("p",{class:"text-[10px] text-gray-400 dark:text-gray-500 uppercase tracking-wider"},"Air Quality",-1)),t("p",Vs,[m(i(h.value.aqi)+" ",1),h.value.aqiLevel?(l(),d("span",Fs,i(h.value.aqiLevel),1)):R("",!0)])]),e[23]||(e[23]=t("div",{class:"neu-inset rounded-lg px-2.5 py-2 text-center"},[t("p",{class:"text-[10px] text-gray-400 dark:text-gray-500 uppercase tracking-wider"},"District"),t("p",{class:"text-sm font-bold text-gray-600 dark:text-gray-300 mt-0.5"},"Nanshan")],-1))]),t("div",Os,[e[24]||(e[24]=t("p",{class:"text-xs text-gray-400 dark:text-gray-500"},"Shenzhen Â· Blogger's Location",-1)),t("button",{onClick:ct,class:"text-gray-400 dark:text-gray-500 hover:text-[#7CB342] dark:hover:text-[#9CCC65] transition-colors",title:"Refresh"},[n(a(c),{icon:"lucide:refresh-cw",class:_(["w-3 h-3",{"animate-spin":D.value}])},null,8,["class"])])])])):(l(),d("div",Gs,[t("div",zs,[n(a(c),{icon:"lucide:cloud-off",class:"w-7 h-7 text-gray-400 dark:text-gray-600"})]),e[25]||(e[25]=t("p",{class:"text-xs text-gray-400 dark:text-gray-500"},"Unavailable",-1)),t("button",{onClick:Q,class:"text-xs text-[#7CB342] hover:underline mt-1"},"Retry")]))])])])]),t("div",Us,[n(Ie)])])])]))}}),eo=st(Ks,[["__scopeId","data-v-75191c71"]]);export{eo as default};
