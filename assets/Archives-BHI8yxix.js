import{d as N,u as V,o as Y,c as n,e,n as l,b as x,f as c,I as h,t as i,F as m,i as f,k as y,l as $,a as o,j as D,w as E,g as F,G as I,r as J,_ as T}from"./index-BIzegw81.js";const z={class:"relative h-[45vh] min-h-[320px] flex items-center justify-center overflow-hidden"},G={class:"mt-2 text-white/80 text-sm"},O={class:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-10"},R={key:0,class:"card p-16 text-center"},Z=["onClick"],q={class:"flex items-center gap-3"},H={class:"w-10 h-10 rounded-lg flex items-center justify-center text-white bg-gradient-to-br from-[#7CB342] to-[#8BC34A] shadow-sm"},K={class:"text-sm font-bold"},P={class:"font-bold text-gray-800 dark:text-white text-lg"},Q={class:"text-xs text-gray-500 dark:text-gray-400"},U={class:"border-t border-gray-100 dark:border-gray-700/50"},W=["onClick"],X={class:"flex items-center gap-2.5"},ee={class:"w-7 h-7 rounded-md flex items-center justify-center bg-gray-100 dark:bg-gray-700/60 text-xs font-bold text-gray-600 dark:text-gray-300"},te={class:"text-sm font-medium text-gray-700 dark:text-gray-300 leading-relaxed"},se={class:"text-xs text-gray-400 dark:text-gray-500 leading-relaxed"},ae={class:"text-xs font-mono text-gray-400 dark:text-gray-500 shrink-0 flex items-center whitespace-nowrap leading-normal"},re={class:"flex-1 text-sm font-medium text-gray-700 dark:text-gray-300 group-hover/item:text-[#7CB342] transition-colors truncate leading-relaxed"},oe={class:"hidden sm:flex gap-1.5 shrink-0"},ne=N({__name:"Archives",setup(le){const b=V(),C=y(!1),B=y(!1),p=y(new Set),v=y(new Set),S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_=$(()=>b.archivesByYear.map(([a,t])=>{const u=new Map;t.forEach(s=>{const d=new Date(s.date).getMonth();u.has(d)||u.set(d,[]),u.get(d).push(s)});const r=Array.from(u.entries()).sort((s,d)=>d[0]-s[0]).map(([s,d])=>({key:`${a}-${s}`,label:S[s],num:String(s+1).padStart(2,"0"),posts:d}));return{year:a,posts:t,months:r}}));function A(a){const t=new Set(p.value);t.has(a)?t.delete(a):t.add(a),p.value=t}function j(a){const t=new Set(v.value);t.has(a)?t.delete(a):t.add(a),v.value=t}function k(a){return p.value.has(a)}function w(a){return v.value.has(a)}return Y(()=>{if(setTimeout(()=>{C.value=!0},100),setTimeout(()=>{B.value=!0},300),_.value.length){const a=_.value[0];p.value.add(a.year),a.months.length&&v.value.add(a.months[0].key)}}),(a,t)=>{const u=J("router-link");return o(),n("div",null,[e("header",z,[t[1]||(t[1]=e("div",{class:"absolute inset-0 bg-black/30"},null,-1)),e("div",{class:l(["relative text-center text-white z-10 banner-content",{"animate-in":C.value}])},[x(c(h),{icon:"lucide:archive",class:"w-16 h-16 mx-auto mb-4 drop-shadow-lg"}),t[0]||(t[0]=e("h1",{class:"text-3xl md:text-4xl font-bold drop-shadow-lg"},"Archives",-1)),e("p",G,i(c(b).posts.length)+" posts in total",1)],2),t[2]||(t[2]=e("div",{class:"wave-divider"},[e("svg",{viewBox:"0 0 1440 100",preserveAspectRatio:"none"},[e("path",{d:"M0,50 C150,100 350,0 600,50 C850,100 1050,0 1200,50 C1350,100 1440,50 1440,50 L1440,100 L0,100 Z",fill:"rgba(255,255,255,0.1)"})])],-1))]),e("div",O,[c(b).isLoading?(o(),n("div",R,[...t[3]||(t[3]=[e("div",{class:"inline-flex flex-col items-center"},[e("div",{class:"w-12 h-12 rounded-xl bg-[#7CB342]/20 flex items-center justify-center mb-3"},[e("div",{class:"animate-spin rounded-full h-6 w-6 border-2 border-[#7CB342] border-t-transparent"})]),e("p",{class:"text-gray-500 text-sm"},"Loading...")],-1)])])):(o(),n("div",{key:1,class:l(["space-y-3 content-block",{"animate-in":B.value}])},[(o(!0),n(m,null,f(_.value,r=>(o(),n("div",{key:r.year,class:"card overflow-hidden border border-white/20 dark:border-gray-600/30"},[e("button",{onClick:s=>A(r.year),class:l(["w-full flex items-center justify-between px-5 py-4 text-left group transition-colors duration-200",k(r.year)?"bg-[#7CB342]/5":"hover:bg-gray-50 dark:hover:bg-gray-800/50"])},[e("div",q,[e("div",H,[e("span",K,i(r.year.slice(2)),1)]),e("div",null,[e("h3",P,i(r.year),1),e("p",Q,i(r.posts.length)+" posts",1)])]),x(c(h),{icon:"lucide:chevron-down",class:l(["w-5 h-5 text-gray-400 transition-transform duration-300",k(r.year)?"rotate-180 text-[#7CB342]":""])},null,8,["class"])],10,Z),e("div",{class:l(["accordion-body",{expanded:k(r.year)}])},[e("div",U,[(o(!0),n(m,null,f(r.months,(s,d)=>(o(),n("div",{key:s.key,class:l(d<r.months.length-1?"border-b border-gray-100 dark:border-gray-700/30":"")},[e("button",{onClick:g=>j(s.key),class:l(["w-full flex items-center justify-between pl-8 pr-5 py-3 text-left group/month transition-colors duration-200",w(s.key)?"bg-[#7CB342]/[0.03]":"hover:bg-gray-50/80 dark:hover:bg-gray-800/30"])},[e("div",X,[e("div",ee,i(s.num),1),e("span",te,i(s.label),1),e("span",se,"("+i(s.posts.length)+")",1)]),x(c(h),{icon:"lucide:chevron-down",class:l(["w-4 h-4 text-gray-300 dark:text-gray-600 transition-transform duration-300",w(s.key)?"rotate-180 text-[#7CB342]":""])},null,8,["class"])],10,W),e("div",{class:l(["accordion-body",{expanded:w(s.key)}])},[e("div",null,[(o(!0),n(m,null,f(s.posts,(g,L)=>(o(),D(u,{key:g.slug,to:`/post/${g.slug}`,class:l(["flex items-center gap-3 pl-12 pr-5 py-2.5 group/item transition-colors hover:bg-[#7CB342]/5",L<s.posts.length-1?"border-b border-gray-50 dark:border-gray-800/30":""])},{default:E(()=>[e("span",ae,[x(c(h),{icon:"lucide:calendar-days",class:"w-3 h-3 mr-1 text-[#7CB342]"}),F(" "+i(c(I)(g.date,"short")),1)]),e("h4",re,i(g.title),1),e("div",oe,[(o(!0),n(m,null,f(g.tags.slice(0,2),M=>(o(),n("span",{key:M,class:"text-xs px-2.5 py-1 rounded-full bg-gray-100 dark:bg-gray-700/50 text-gray-500 dark:text-gray-400 leading-normal"},i(M),1))),128))]),x(c(h),{icon:"lucide:chevron-right",class:"w-3.5 h-3.5 text-gray-300 dark:text-gray-600 group-hover/item:text-[#7CB342] group-hover/item:translate-x-0.5 transition-all shrink-0"})]),_:2},1032,["to","class"]))),128))])],2)],2))),128))])],2)]))),128))],2))])])}}}),de=T(ne,[["__scopeId","data-v-0206c06b"]]);export{de as default};
